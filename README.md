### Домашнее задание к занятию «Сетевое взаимодействие в K8S. Часть 1»
## Задание 1. Создать Deployment и обеспечить доступ к контейнерам приложения по разным портам из другого Pod внутри кластера
1. Создать Deployment приложения, состоящего из двух контейнеров (nginx и multitool), с количеством реплик 3 шт.
2. Создать Service, который обеспечит доступ внутри кластера до контейнеров приложения из п.1 по порту 9001 — nginx 80, по 9002 — multitool 8080.
3. Создать отдельный Pod с приложением multitool и убедиться с помощью curl, что из пода есть доступ до приложения из п.1 по разным портам в разные контейнеры.
4. Продемонстрировать доступ с помощью curl по доменному имени сервиса.
5. Предоставить манифесты Deployment и Service в решении, а также скриншоты или вывод команды п.4.

## Задание 2. Создать Service и обеспечить доступ к приложениям снаружи кластера
1. Создать отдельный Service приложения из Задания 1 с возможностью доступа снаружи кластера к nginx, используя тип NodePort.
2. Продемонстрировать доступ с помощью браузера или curl с локального компьютера.
3. Предоставить манифест и Service в решении, а также скриншоты или вывод команды п.2.

## Решение задания 1. Создать Deployment и обеспечить доступ к контейнерам приложения по разным портам из другого Pod внутри кластера
Для начала удалим созданный в прошлом задании namespace, чтобы поды из разных работ не мешали друг другу и создадим новый namespace:

![img1_1](https://github.com/user-attachments/assets/1f7db6bf-57e6-4056-8c6e-894ae8e9b73e)

Пишем манифест Deployment приложения, состоящего из двух контейнеров (nginx и multitool), с количеством реплик 3 шт.

Применяем манифест и видим результат:

![img1_2](https://github.com/user-attachments/assets/05da337e-c19c-4f20-b4ad-33be7199eae7)

Deployment создан, количество реплик равно трём.

Пишем манифест Service, который обеспечит доступ внутри кластера до контейнеров приложения из п.1 по порту 9001 — nginx 80, по 9002 — multitool 8080.
Применим манифест и проверим результат:

![img1_3](https://github.com/user-attachments/assets/4e6a43bb-3dc5-48e0-b0da-a728c2a4fc9f)

Сервис создан и слушает порты 9001 и 9002.

Пишем манифест отдельного Pod, с приложением multitool и запускаем его:

![img1_4](https://github.com/user-attachments/assets/7ebd2dae-2bd3-41ae-a343-26fcadad99ca)

Проверяем адреса запущенных подов:

![img1_6](https://github.com/user-attachments/assets/b2c4cc68-a85d-4805-b785-887c8968d7be)

Из пода multitool проверяем доступность приложений в подах по одному из IP адресов:

![img1_7](https://github.com/user-attachments/assets/608f3e20-723c-4711-8f56-5554c699bc23)

Приложения в подах доступны.

С помощью curl проверим доступность подов по доменному имени сервиса:

![img1_8](https://github.com/user-attachments/assets/a541dad1-1b1e-463f-b724-f0a0a9dc1f5c)

Nginx отвечает через сервис по порту 9001, multitool отвечает по порту 9002.

Ссылка на манифест Deployment - https://github.com/slava1005/1_4/blob/main/manifest/deployment.yaml

Ссылка на манифест Service - https://github.com/slava1005/1_4/blob/main/manifest/service.yaml

Ссылка на манифест Pod - https://github.com/slava1005/1_4/blob/main/manifest/multitool.yaml

## Решение задания 2. Создать Service и обеспечить доступ к приложениям снаружи кластера
Создаем отдельный Service приложения из Задания 1 с возможностью доступа снаружи кластера к nginx, используя тип NodePort:

![img1_9](https://github.com/user-attachments/assets/e0b25c09-38ae-499b-be2c-caa50760a1f2)

Сервис с именем nodeport-service и внешними портами 30007 и 30008 создан.

С помощью curl проверим, доступны ли приложения из подов по внешним портам:

![img1_10](https://github.com/user-attachments/assets/90ba6b51-63f4-4d9a-ac57-cec3ecb47b00)

Приложения доступны по локальному IP ноды, на порту 30007 отвечает nginx, на порту 30008 отвечает multitool.

Ссылка на манифест Service - https://github.com/slava1005/1_4/blob/main/manifest/service-nodeport.yaml
